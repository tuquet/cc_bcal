{% extends 'base.html' %}

{% block title %}{{ form_title }}{% endblock %}

{% block content %}
<div class="flex items-center justify-between mb-4">
    <h1 class="text-2xl font-semibold">{{ form_title }}</h1>
    <div></div>
</div>

<div class="bg-white shadow rounded p-4">
    <form method="POST">
        <div class="mb-4">
            <label for="script_data" class="block text-sm font-medium text-slate-700">Nội dung JSON</label>
            <textarea class="mt-1 block w-full border rounded p-2 text-sm font-mono" id="script_data" name="script_data" rows="20" required>{{ script_data_json or '' }}</textarea>
            <p class="text-xs text-slate-500 mt-1">Dán toàn bộ nội dung file JSON vào đây.</p>
        </div>

        <div class="mb-4">
            <label for="status" class="block text-sm font-medium text-slate-700">Trạng thái</label>
            <select class="mt-1 block w-48 border rounded px-2 py-1" id="status" name="status">
                {% set statuses = ['new', 'generating', 'completed', 'error'] %}
                {% for s in statuses %}
                    <option value="{{ s }}" {% if script and script.status == s %}selected{% endif %}>{{ s }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="flex gap-2">
            <a href="{{ url_for('ui_index') }}" class="inline-block px-3 py-2 border rounded text-sm text-slate-700">Hủy</a>
            <button type="submit" class="inline-block px-3 py-2 bg-sky-600 text-white rounded text-sm">Lưu</button>
        </div>
    </form>
</div>
{% endblock %}
